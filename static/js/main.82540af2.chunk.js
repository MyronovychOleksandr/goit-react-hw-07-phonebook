(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{11:function(t,e,n){t.exports={form:"PhonebookForm_form__2bnBo",label:"PhonebookForm_label__19xQ0",input:"PhonebookForm_input__3sIj_",button:"PhonebookForm_button__2JABG"}},21:function(t,e,n){t.exports={container:"Filter_container__1bmdD",label:"Filter_label__2XthE",input:"Filter_input__1hf3p"}},22:function(t,e,n){t.exports={item:"PhonebookListItem_item__hJ-95",name:"PhonebookListItem_name__3knax",box:"PhonebookListItem_box__1vs0s"}},27:function(t,e,n){t.exports={list:"PhonebookList_list__195ng",enter:"PhonebookList_enter__riJ35",enterActive:"PhonebookList_enterActive__1omvC",exit:"PhonebookList_exit__1mLSL",exitActive:"PhonebookList_exitActive__3835Y"}},28:function(t,e,n){t.exports={container:"App_container__3b1g-",phonebookHeader:"App_phonebookHeader__YfXhk"}},39:function(t,e,n){t.exports={box:"alert_box__SvXtg"}},51:function(t,e,n){},71:function(t,e,n){},72:function(t,e,n){},73:function(t,e,n){"use strict";n.r(e);var c,o=n(10),a=n.n(o),r=n(7),s=n(2),i=n(9),u=n(40),b=n(6),l={addContactsRequest:Object(s.b)("contacts/addRequest"),addContactsSuccess:Object(s.b)("contacts/addSuccess"),addContactsError:Object(s.b)("contacts/addError"),fetchContactsRequest:Object(s.b)("contacts/fetchRequest"),fetchContactsSuccess:Object(s.b)("contacts/fetchSuccess"),fetchContactsError:Object(s.b)("contacts/fetchError"),removeContactsRequest:Object(s.b)("contacts/removeRequest"),removeContactsSuccess:Object(s.b)("contacts/removeSuccess"),removeContactsError:Object(s.b)("contacts/removeError"),filterContact:Object(s.b)("ph/filter")},d=Object(s.c)([],(c={},Object(i.a)(c,l.fetchContactsSuccess,(function(t,e){return e.payload})),Object(i.a)(c,l.addContactsSuccess,(function(t,e){return[].concat(Object(u.a)(t),[e.payload])})),Object(i.a)(c,l.removeContactsSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),c)),j=Object(s.c)("",Object(i.a)({},l.filterContact,(function(t,e){return e.payload}))),h=Object(b.c)({contacts:d,filter:j}),m=Object(s.a)({reducer:{phonebook:h}}),f=(n(51),n(17)),O=n(18),p=n(20),C=n(19),v=n(0),x=n(74),_=n(8),g=n(39),k=n.n(g),F=n(1),N=function(t){var e=t.text;return Object(F.jsxs)("div",{className:k.a.box,children:[Object(F.jsx)("h4",{children:"Warning!"}),Object(F.jsx)("p",{children:e})]})},S=n(16),y=function(t){return t.phonebook.contacts},E=function(t){return t.phonebook.filter},L={getContacts:y,getFilter:E,getVisibleContacts:Object(S.a)([y,E],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),getContactById:Object(S.a)([function(t,e){return e},y],(function(t,e){return e.find((function(e){return e.id===t}))}))},P=n(14),R=n.n(P);R.a.defaults.baseURL="http://localhost:2000";var q={addContacts:function(t){return function(e){e(l.addContactsRequest()),R.a.post("/contacts",Object(_.a)({},t)).then((function(t){e(l.addContactsSuccess(t.data))})).catch((function(t){return e(l.addContactsError(t))}))}},fetchContacts:function(){return function(t){t(l.fetchContactsRequest()),R.a.get("/contacts").then((function(e){var n=e.data;return t(l.fetchContactsSuccess(n))})).catch((function(e){return t(l.fetchContactsError(e))}))}},removeContact:function(t){return function(e){e(l.removeContactsRequest()),R.a.delete("/contacts/".concat(t)).then((function(){return e(l.removeContactsSuccess(t))})).catch((function(t){return e(l.removeContactsError(t))}))}}},A=n(11),H=n.n(A),w=(n(71),{name:"",number:"",valideteForm:!1}),I=function(t){Object(p.a)(n,t);var e=Object(C.a)(n);function n(){var t;Object(f.a)(this,n);for(var c=arguments.length,o=new Array(c),a=0;a<c;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).state=Object(_.a)({},w),t.onHandleChange=function(e){var n=e.target,c=n.name,o=n.value;t.setState(Object(i.a)({},c,o))},t.onHandleSubmit=function(e){if(e.preventDefault(),t.props.contacts.some((function(e){return e.name===t.state.name})))return t.setState(Object(_.a)(Object(_.a)({},w),{},{valideteForm:!0})),void setTimeout(t.onChangeValideteForm,2e3);var n=Object(_.a)({},t.state);t.props.onAddContact(n),t.setState(Object(_.a)({},w))},t.onChangeValideteForm=function(){t.setState({valideteForm:!t.state.valideteForm})},t}return Object(O.a)(n,[{key:"render",value:function(){var t=this.state.valideteForm;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(x.a,{in:t,classNames:"alert",timeout:500,unmountOnExit:!0,children:Object(F.jsx)(N,{})}),Object(F.jsxs)("form",{className:H.a.form,onSubmit:this.onHandleSubmit,children:[Object(F.jsxs)("label",{className:H.a.label,children:["Name",Object(F.jsx)("input",{className:H.a.input,type:"text",name:"name",value:this.state.name,required:!0,onChange:this.onHandleChange})]}),Object(F.jsxs)("label",{className:H.a.label,children:["Number",Object(F.jsx)("input",{className:H.a.input,type:"tel",name:"number",value:this.state.number,required:!0,onChange:this.onHandleChange})]}),Object(F.jsx)("button",{className:H.a.button,type:"submit",children:"Add contact"})]})]})}}]),n}(v.Component),B={onAddContact:q.addContacts},J=Object(r.b)((function(t){return{contacts:L.getContacts(t)}}),B)(I),D=n(21),V=n.n(D),X={onHandleFilterContact:l.filterContact},Y=Object(r.b)((function(t){return{filter:L.getFilter(t)}}),X)((function(t){var e=t.filter,n=t.onHandleFilterContact;return Object(F.jsx)("div",{className:V.a.container,children:Object(F.jsxs)("label",{className:V.a.label,children:["Find contacts by name",Object(F.jsx)("input",{className:V.a.input,type:"text",name:"filter",value:e,onChange:function(t){n(t.target.value)}})]})})})),G=n(75),M=n(22),Q=n.n(M),T=Object(r.b)((function(t,e){var n=L.getContactById(t,e.id);return Object(_.a)({},n)}),(function(t,e){return{onRemove:function(){return t(q.removeContact(e.id))}}}))((function(t){var e=t.id,n=t.name,c=t.number,o=t.onRemove;return Object(F.jsxs)("li",{className:Q.a.item,children:[Object(F.jsxs)("span",{className:Q.a.name,children:[n," "]}),Object(F.jsxs)("div",{className:Q.a.box,children:[Object(F.jsxs)("span",{children:[c," "]}),Object(F.jsx)("button",{id:e,onClick:o,children:"Delete"})]})]})})),U=n(27),W=n.n(U),z=Object(r.b)((function(t){return{contacts:L.getVisibleContacts(t)}}))((function(t){var e=t.contacts;return Object(F.jsx)(G.a,{component:"ul",className:W.a.list,children:e.map((function(t){var e=t.id;return Object(F.jsx)(x.a,{timeout:250,classNames:W.a,children:Object(F.jsx)(T,{id:e})},e)}))})})),K=n(28),Z=n.n(K),$=(n(72),function(t){Object(p.a)(n,t);var e=Object(C.a)(n);function n(){return Object(f.a)(this,n),e.apply(this,arguments)}return Object(O.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return Object(F.jsxs)("div",{className:Z.a.container,children:[Object(F.jsx)(x.a,{in:!0,appear:!0,timeout:500,classNames:"header",unmountOnExit:!0,children:Object(F.jsx)("h2",{className:Z.a.phonebookHeader,children:"Phonebook"})}),Object(F.jsx)(J,{}),Object(F.jsx)(x.a,{in:this.props.contacts.length>1,timeout:250,classNames:"filter",unmountOnExit:!0,children:Object(F.jsx)(Y,{})}),Object(F.jsx)(z,{})]})}}]),n}(v.Component)),tt={onFetchContacts:q.fetchContacts},et=Object(r.b)((function(t){return{contacts:L.getContacts(t)}}),tt)($);a.a.render(Object(F.jsx)(r.a,{store:m,children:Object(F.jsx)(et,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.82540af2.chunk.js.map